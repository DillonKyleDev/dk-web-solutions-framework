<!--
    templateType: blog_listing
    isAvailableForNewContent: true
    label: Blog listing
-->
{% extends "./layouts/base.html" %}
{# import marcros #}
{% import "./macros.html" as macros %}

{% set module_settings = {
    module_header: {
      show_module_header_: false,      
    },
    module_footer: {
      show_module_footer_: false,      
    },
    styles: {
      type_setting: "on-light",
      padding_top: "medium",
      padding_bottom: "medium",
      background_color: "transparent"
    }
  }
%}

{% block body %}
  <div class="body-container body-container--blog-listing">

      {# Blog author listing #}

      {% if blog_author %}
        <section class="constrain">
          {% if blog_author.avatar %}
            <img src="{{ blog_author.avatar }}" alt="image of blog {{ blog_author.display_name }}">
          {% endif %}
          <h1>{{ blog_author.display_name }}</h1>
          {% if blog_author.bio %}
            <p>{{ blog_author.bio }}</p>
          {% endif %}
          {% if blog_author.has_social_profiles %}
            <div>
              {% if blog_author.website %}
                <a href="{{ blog_author.website }}" target="_blank" rel="noopener">
                  {% icon
                    name="link",
                    purpose="semantic",
                    style="SOLID",
                    title="Follow us on our website",
                    width="10"
                  %}
                </a>
              {% endif %}
              {% if blog_author.facebook %}
                <a href="{{ blog_author.facebook }}" target="_blank" rel="noopener">
                  {% icon
                    name="facebook-f",
                    purpose="semantic",
                    style="SOLID",
                    title="Follow us on Facebook",
                    width="10"
                  %}
                </a>
              {% endif %}
              {% if blog_author.linkedin %}
                <a href="{{ blog_author.linkedin }}" target="_blank" rel="noopener">
                  {% icon
                    name="linkedin-in",
                    purpose="semantic",
                    style="SOLID",
                    title="Follow us on LinkedIn",
                    width="10"
                  %}
                </a>
              {% endif %}
              {% if blog_author.twitter %}
                <a href="{{ blog_author.twitter }}" target="_blank" rel="noopener">
                  {% icon
                    name="twitter",
                    purpose="semantic",
                    style="SOLID",
                    title="Follow us on Twitter",
                    width="10"
                  %}
                </a>
              {% endif %}
            </div>
          {% endif %}
        </section>
      {% elif tag %}

      {# Blog tag listing #}

        <section>
          <h1>Posts about {{ page_meta.html_title|split(" | ")|last }}</h1>
        </section>
      {% else %}

      {# Blog listing heading #}

        <section>
          <h1>{{ group.public_title }}</h1>
          <p>{{ group.description }}</p>
        </section>

        {% call macros.module_base("blog-listing", module_settings) %}
          <div class="{{ module_name }}__container">
            <p>Hello from base module</p>
          </div>
        {% endcall %}

        <div>
          {% dnd_area "dnd_area"
            label="Main section"
          %}
            {% dnd_section %}
              {% dnd_column %}
                {% dnd_row %}

                  {% dnd_module path="@hubspot/blog_listing" %}
                  {% end_dnd_module %}

                {% end_dnd_row %}
                {% dnd_row %}

                  {% dnd_module path="@hubspot/pagination" %}
                  {% end_dnd_module %}

                {% end_dnd_row %}
              {% end_dnd_column %}
            {% end_dnd_section %}
          {% end_dnd_area %}
        </div>

      {% endif %}


    </main>
    {{ standard_footer_includes }}
</div>
{% endblock body %}
