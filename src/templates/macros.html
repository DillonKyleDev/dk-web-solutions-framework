

{% macro module_base(module_name, styles) %}
  {% set padding_top = styles.padding_top %}
  {% set padding_bottom = styles.padding_bottom %}
  {% set background_color = styles.background_color %}
  {% set type_setting = styles.type_setting %}

  <div class="{{ module_name }} module module__padding-top--{{ padding_top }} module__padding-bottom--{{ padding_bottom }} bg--{{ background_color }} {{ type_setting }}">
    <div class="{{ module_name }}__inner constrain">
      {{ caller() }}
    </div>
  </div>
{% endmacro %}

{% macro image_popup(linkContent, imageLink, class) %}
  <a class="image-link {{ class }}" href="{{ imageLink }}">{{ linkContent }}</a>
{% endmacro %}

{% macro column(module_name, column) %}
  {% set column_type = column.column_type %}
  {% set column_content = column.text_content %}
  {% set image = column.image %}
  {% set border_radius_ = column.border_radius_ %}
  {% set appended_elements = column.appended_elements %}

  <div class="{{ module_name }}__column {{ module_name }}__column-type--{{ column_type }}">
    {% if column_type == "text-content" %}
      <div class="{{ module_name }}__content">
        {{ column_content }}
      </div>
      
      {% if appended_elements[0] %}   
        {{ macros.append_elements(module_name, appended_elements) }}
      {% endif %}
    {% elif column_type == "image" %}
      <div class="{{ module_name }}__image-container">
        <img class="{{ module_name }}__image {% if border_radius_ %} {{ module_name }}__image--border-radius{% endif %}" src="{{ image.src }}">
      </div>
    {% endif %}
  </div>
{% endmacro %}


{% macro append_elements(module_name, appended_elements) %}
  <div class="{{ module_name }}__appended-elements">
    {% for item in appended_elements %}
      {% set item_type = item.element_type %}
      {% set item_content = item.text_content %}
      {% set cta_group = item.cta_group %}
      
        
      <div class="{{ module_name }}__appended-element {{ module_name }}__appended-element-type--{{ item_type }}">
        {% if item_type == "text-content" %}
          {{ item_content }}
        {% elif item_type == "list" %}

        {% elif item_type == "cta-group" %}
          {% for cta in cta_group %}
            <div class="{{ module_name }}__cta">
              {{ cta(cta) }}
            </div>
          {% endfor %}
        {% elif item_type == "testimonial" %}

        {% endif %}
      </div>
    {% endfor %}
  </div>
{% endmacro %}